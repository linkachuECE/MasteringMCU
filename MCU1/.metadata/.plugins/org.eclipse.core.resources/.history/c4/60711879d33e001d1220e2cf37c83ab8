/*
 * 008I2C_Arduino.c
 *
 *  Created on: Sep 27, 2022
 *      Author: linkachu
 */

#include "stm32f407xx.h"

void delay(uint16_t ms){
	for(uint32_t i = 0; i < (ms*1000); i++);
}

void USRBTN_Init(GPIO_Handle_t* USRPB){
	USRPB->pGPIOx = GPIOA;
	USRPB->GPIO_PinConfig.GPIO_PinNumber = GPIO_PIN_NO_0;
	USRPB->GPIO_PinConfig.GPIO_PinMode = GPIO_MODE_IT_RT;
	USRPB->GPIO_PinConfig.GPIO_PinSpeed = GPIO_SPEED_FAST;
	USRPB->GPIO_PinConfig.GPIO_PinPuPdControl = GPIO_NO_PUPD;

	GPIO_Init(USRPB);
}

int main(){
	GPIO_Handle_t USRPB;
	USRBTN_Init(&USRPB);


}

void EXTI0_IRQHandler(void){
	delay(200);
	GPIO_IRQHandling(GPIO_PIN_NO_0);
	sendMessage();
}
